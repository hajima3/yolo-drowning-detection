<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Beautiful 2D Koi Fish - High Detail Animation</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(180deg, #001144 0%, #003366 50%, #002244 100%);
            overflow: hidden;
            color: white;
        }

        #fishCanvas {
            display: block;
            cursor: pointer;
        }

        /* Hover effect like butterflies */
        .fish-hover {
            filter: brightness(1.3) saturate(1.5);
            transform: scale(1.1);
            transition: all 0.3s ease;
        }

        .interactive-hint {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(255, 255, 255, 0.9);
            color: #003366;
            padding: 15px 25px;
            border-radius: 25px;
            font-weight: bold;
            animation: pulse 2s infinite;
            z-index: 50;
            pointer-events: none;
        }

        @keyframes pulse {
            0%, 100% { opacity: 0.7; transform: translate(-50%, -50%) scale(1); }
            50% { opacity: 1; transform: translate(-50%, -50%) scale(1.05); }
        }

        .stats-display {
            display: none; /* Hidden */
        }

        .hide-hint {
            display: none;
        }
    </style>
</head>
<body>
    <canvas id="fishCanvas"></canvas>
    
    <div class="interactive-hint" id="mouseHint">
        üñ±Ô∏è Move your mouse to interact with the koi fish!
    </div>

    <script type="module">
        import DetailedKoi2D from './koi_2d_detailed.js';
        
        // Initialize the detailed koi system
        const koiSystem = new DetailedKoi2D();
        
        // Hide mouse hint after interaction
        let hintShown = true;
        document.addEventListener('mousemove', () => {
            if (hintShown) {
                document.getElementById('mouseHint').classList.add('hide-hint');
                hintShown = false;
            }
        });
        
        // Add some keyboard interactions
        document.addEventListener('keydown', (e) => {
            switch(e.key) {
                case ' ': // Spacebar - add more fish
                    e.preventDefault();
                    if (koiSystem.fish.length < 15) {
                        koiSystem.fish.push({
                            x: Math.random() * koiSystem.canvas.width,
                            y: Math.random() * koiSystem.canvas.height,
                            vx: (Math.random() - 0.5) * 2,
                            vy: (Math.random() - 0.5) * 1,
                            rotation: Math.random() * Math.PI * 2,
                            size: 40 + Math.random() * 30,
                            species: koiSystem.getRandomSpecies(),
                            swimPhase: Math.random() * Math.PI * 2,
                            tailSwing: 0,
                            finFlap: 0,
                            bodyWave: 0,
                            speed: 0.5 + Math.random() * 1.5,
                            turnSpeed: 0.02 + Math.random() * 0.03,
                            eyeX: 0,
                            eyeY: 0,
                            isHovered: false,
                            hoverScale: 1,
                            hoverBrightness: 1
                        });
                    }
                    break;
                    
                case 'r': // R - reset fish positions
                case 'R':
                    koiSystem.fish.forEach(fish => {
                        fish.x = Math.random() * koiSystem.canvas.width;
                        fish.y = Math.random() * koiSystem.canvas.height;
                        fish.vx = (Math.random() - 0.5) * 2;
                        fish.vy = (Math.random() - 0.5) * 1;
                        fish.species = koiSystem.getRandomSpecies(); // New random species
                    });
                    break;
            }
        });
        
        console.log('üêü Beautiful 2D Koi Fish System Initialized!');
        console.log('Features: 15 colorful species, realistic animation, hover effects like butterflies');
        console.log('Controls: Mouse to attract & hover, Space to add fish, R to reset with new colors');
        
        // Make system globally accessible
        window.koiSystem = koiSystem;
    </script>
</body>
</html>
